<?php

declare(strict_types=1);

namespace Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem;

use GuzzleHttp\Client;
use GuzzleHttp\Exception\GuzzleException;
use GuzzleHttp\Psr7\Request;
use Mittwald\ApiClient\Client\StringResponse;
use Mittwald\ApiClient\Error\UnexpectedResponseException;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesBadGatewayResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesDefaultResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesForbiddenResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesNotFoundResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesOKResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesRequest;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesServiceUnavailableResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDirectories\GetDirectoriesTooManyRequestsResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageBadGatewayResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageDefaultResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageForbiddenResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageNotFoundResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageOKResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageRequest;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageServiceUnavailableResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetDiskUsage\GetDiskUsageTooManyRequestsResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentBadGatewayResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentDefaultResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentForbiddenResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentNotFoundResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentRequest;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentServiceUnavailableResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetFileContent\GetFileContentTooManyRequestsResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtBadGatewayResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtForbiddenResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtNotFoundResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtOKResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtRequest;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtServiceUnavailableResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtTooManyRequestsResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\GetJwt\GetJwtUnauthorizedResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesBadGatewayResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesDefaultResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesForbiddenResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesNotFoundResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesOKResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesRequest;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesServiceUnavailableResponse;
use Mittwald\ApiClient\Generated\V2\Clients\ProjectFileSystem\ListFiles\ListFilesTooManyRequestsResponse;

/**
 * Client for Project File System API
 *
 * The filesystem API allows you to directly access the filesystem of your project.
 *
 * DO NOT EDIT; this class was generated by the mittwald/api-client-builder package
 * (https://github.com/mittwald/api-client-php-builder). Please make any changes
 * there.
 *
 * @generated
 * @see https://github.com/mittwald/api-client-php-builder
 */
class ProjectFileSystemClientImpl implements ProjectFileSystemClient
{
    private Client $client;

    public function __construct(Client $client)
    {
        $this->client = $client;
    }

    /**
     * List directories belonging to a Project.
     *
     * @see https://developer.mittwald.de/reference/v2/#tag/Project-File-System/operation/project-file-system-get-directories
     * @throws GuzzleException
     * @throws UnexpectedResponseException
     * @param GetDirectoriesRequest $request An object representing the request for this operation
     * @return GetDirectoriesOKResponse OK
     */
    public function getDirectories(GetDirectoriesRequest $request): GetDirectoriesOKResponse
    {
        $httpRequest = new Request(GetDirectoriesRequest::method, $request->buildUrl());
        $httpResponse = $this->client->send($httpRequest, $request->buildRequestOptions());
        if ($httpResponse->getStatusCode() === 200) {
            return GetDirectoriesOKResponse::fromResponse($httpResponse);
        }
        throw new UnexpectedResponseException(match ($httpResponse->getStatusCode()) {
            403 => GetDirectoriesForbiddenResponse::fromResponse($httpResponse),
            404 => GetDirectoriesNotFoundResponse::fromResponse($httpResponse),
            429 => GetDirectoriesTooManyRequestsResponse::fromResponse($httpResponse),
            502 => GetDirectoriesBadGatewayResponse::fromResponse($httpResponse),
            503 => GetDirectoriesServiceUnavailableResponse::fromResponse($httpResponse),
            default => GetDirectoriesDefaultResponse::fromResponse($httpResponse),
        });
    }

    /**
     * Get a Project directory filesystem usage.
     *
     * @see https://developer.mittwald.de/reference/v2/#tag/Project-File-System/operation/project-file-system-get-disk-usage
     * @throws GuzzleException
     * @throws UnexpectedResponseException
     * @param GetDiskUsageRequest $request An object representing the request for this operation
     * @return GetDiskUsageOKResponse OK
     */
    public function getDiskUsage(GetDiskUsageRequest $request): GetDiskUsageOKResponse
    {
        $httpRequest = new Request(GetDiskUsageRequest::method, $request->buildUrl());
        $httpResponse = $this->client->send($httpRequest, $request->buildRequestOptions());
        if ($httpResponse->getStatusCode() === 200) {
            return GetDiskUsageOKResponse::fromResponse($httpResponse);
        }
        throw new UnexpectedResponseException(match ($httpResponse->getStatusCode()) {
            403 => GetDiskUsageForbiddenResponse::fromResponse($httpResponse),
            404 => GetDiskUsageNotFoundResponse::fromResponse($httpResponse),
            429 => GetDiskUsageTooManyRequestsResponse::fromResponse($httpResponse),
            502 => GetDiskUsageBadGatewayResponse::fromResponse($httpResponse),
            503 => GetDiskUsageServiceUnavailableResponse::fromResponse($httpResponse),
            default => GetDiskUsageDefaultResponse::fromResponse($httpResponse),
        });
    }

    /**
     * Get a Project file's content.
     *
     * @see https://developer.mittwald.de/reference/v2/#tag/Project-File-System/operation/project-file-system-get-file-content
     * @throws GuzzleException
     * @throws UnexpectedResponseException
     * @param GetFileContentRequest $request An object representing the request for this operation
     * @return StringResponse OK
     */
    public function getFileContent(GetFileContentRequest $request): StringResponse
    {
        $httpRequest = new Request(GetFileContentRequest::method, $request->buildUrl());
        $httpResponse = $this->client->send($httpRequest, $request->buildRequestOptions());
        if ($httpResponse->getStatusCode() === 200) {
            return StringResponse::fromResponse($httpResponse);
        }
        throw new UnexpectedResponseException(match ($httpResponse->getStatusCode()) {
            403 => GetFileContentForbiddenResponse::fromResponse($httpResponse),
            404 => GetFileContentNotFoundResponse::fromResponse($httpResponse),
            429 => GetFileContentTooManyRequestsResponse::fromResponse($httpResponse),
            502 => GetFileContentBadGatewayResponse::fromResponse($httpResponse),
            503 => GetFileContentServiceUnavailableResponse::fromResponse($httpResponse),
            default => GetFileContentDefaultResponse::fromResponse($httpResponse),
        });
    }

    /**
     * Get a Project's file/filesystem authorization token.
     *
     * @see https://developer.mittwald.de/reference/v2/#tag/Project-File-System/operation/project-file-system-get-jwt
     * @throws GuzzleException
     * @throws UnexpectedResponseException
     * @param GetJwtRequest $request An object representing the request for this operation
     * @return GetJwtOKResponse OK
     */
    public function getJwt(GetJwtRequest $request): GetJwtOKResponse
    {
        $httpRequest = new Request(GetJwtRequest::method, $request->buildUrl());
        $httpResponse = $this->client->send($httpRequest, $request->buildRequestOptions());
        if ($httpResponse->getStatusCode() === 200) {
            return GetJwtOKResponse::fromResponse($httpResponse);
        }
        throw new UnexpectedResponseException(match ($httpResponse->getStatusCode()) {
            401 => GetJwtUnauthorizedResponse::fromResponse($httpResponse),
            403 => GetJwtForbiddenResponse::fromResponse($httpResponse),
            404 => GetJwtNotFoundResponse::fromResponse($httpResponse),
            429 => GetJwtTooManyRequestsResponse::fromResponse($httpResponse),
            502 => GetJwtBadGatewayResponse::fromResponse($httpResponse),
            503 => GetJwtServiceUnavailableResponse::fromResponse($httpResponse),
        });
    }

    /**
     * Get a Project file's information.
     *
     * @see https://developer.mittwald.de/reference/v2/#tag/Project-File-System/operation/project-file-system-list-files
     * @throws GuzzleException
     * @throws UnexpectedResponseException
     * @param ListFilesRequest $request An object representing the request for this operation
     * @return ListFilesOKResponse OK
     */
    public function listFiles(ListFilesRequest $request): ListFilesOKResponse
    {
        $httpRequest = new Request(ListFilesRequest::method, $request->buildUrl());
        $httpResponse = $this->client->send($httpRequest, $request->buildRequestOptions());
        if ($httpResponse->getStatusCode() === 200) {
            return ListFilesOKResponse::fromResponse($httpResponse);
        }
        throw new UnexpectedResponseException(match ($httpResponse->getStatusCode()) {
            403 => ListFilesForbiddenResponse::fromResponse($httpResponse),
            404 => ListFilesNotFoundResponse::fromResponse($httpResponse),
            429 => ListFilesTooManyRequestsResponse::fromResponse($httpResponse),
            502 => ListFilesBadGatewayResponse::fromResponse($httpResponse),
            503 => ListFilesServiceUnavailableResponse::fromResponse($httpResponse),
            default => ListFilesDefaultResponse::fromResponse($httpResponse),
        });
    }
}
